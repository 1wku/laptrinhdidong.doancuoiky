<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>
        <import type="android.view.View"/>
        <variable
            name="postAdapterFeed"
            type="ltdd.doan.mangxahoi.ui.view.adapter.PostAdapterFeed" />
        <variable
            name="post"
            type="ltdd.doan.mangxahoi.data.model.Post" />
    </data>


    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginVertical="8dp"
        android:orientation="vertical">

        <!--container trên cùng-->
        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:padding="8dp">

            <!--avatar-->
            <!--TODO add onclick event -->
            <com.google.android.material.imageview.ShapeableImageView
                android:id="@+id/cardPostUserImg"
                android:layout_width="50dp"
                android:layout_height="50dp"
                android:padding="2dp"
                android:scaleType="fitXY"
                app:strokeColor="@color/black"
                app:strokeWidth="2dp"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                app:shapeAppearanceOverlay="@style/ShapeAppearance.App.CircleImageView"
                android:src="@drawable/avatar_img" />

            <LinearLayout
                android:id="@+id/linearLayout"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_marginHorizontal="8dp"
                android:orientation="vertical"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toStartOf="@+id/cardPostPopupMenu"
                app:layout_constraintStart_toEndOf="@+id/cardPostUserImg"
                app:layout_constraintTop_toTopOf="parent">

                <!--tên người tạo-->
                <!--TODO add onclick event-->
                <TextView
                    android:id="@+id/cardPostUserName"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:textSize="20sp"
                    android:textStyle="bold"
                    android:text="@{post.post_owner.user_full_name}"/>
                <!--thời gian tạo-->
                <TextView
                    android:id="@+id/cardPostCreatedDate"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:textSize="15sp"
                    android:text="@{post.created_at}"/>

            </LinearLayout>

            <!--popup menu dành cho owner -->
            <!--TODO add onclick event-->
            <ImageView
                android:id="@+id/cardPostPopupMenu"
                android:layout_width="36dp"
                android:layout_height="36dp"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                app:srcCompat="@drawable/ic_popup_menu" />
        </androidx.constraintlayout.widget.ConstraintLayout>

        <!--ảnh-->
        <!--TODO add onclick event-->
        <ImageView
            android:id="@+id/cardPostPostImg"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:adjustViewBounds="true"
            android:maxHeight="600dp"
            android:scaleType="fitXY"
            android:src="@drawable/content_img" />

        <!--content-->
        <!--TODO add onclick event-->
        <TextView
            android:id="@+id/cardPostPostContent"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="@{post.post_content}"
            android:textSize="16sp"
            android:textStyle="bold"
            android:padding="8dp"/>

        <!--react của post-->
        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:paddingHorizontal="8dp"
            android:paddingTop="8dp">

            <!--like-->
            <!--TODO add onclick event-->
            <ImageView
                android:id="@+id/cardPostPostlike"
                android:layout_width="36dp"
                android:layout_height="36dp"
                android:src="@drawable/ic_like"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent" />

            <!--lượng like-->
            <!--TODO add onclick event, add icon event-->
            <TextView
                android:id="@+id/cardPostPostlikeAmount"
                android:layout_width="wrap_content"
                android:layout_height="match_parent"
                android:paddingStart="8dp"
                android:text="@{@string/card_post_likes(post.post_likers.size())}"
                android:textSize="16sp"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintStart_toEndOf="@+id/cardPostPostlike"
                app:layout_constraintTop_toTopOf="parent" />

            <!--bình luận-->
            <EditText
                android:id="@+id/cardPostPostCmt"
                android:layout_width="0dp"
                android:layout_height="match_parent"
                app:layout_constraintTop_toTopOf="parent"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintStart_toEndOf="@id/cardPostPostlikeAmount"
                app:layout_constraintEnd_toEndOf="parent"
                android:textSize="16sp"/>

        </androidx.constraintlayout.widget.ConstraintLayout>

    </LinearLayout>

</layout>